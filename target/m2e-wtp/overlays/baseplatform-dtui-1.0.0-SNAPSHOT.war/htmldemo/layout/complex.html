<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="language" content="en" />

	<title>Complex Layout Demo</title>

	<link rel="stylesheet" href="../../dtui/theme/dtui.css" type="text/css" />
	<script src="../../dtui/js/jquery/jquery.js"></script>
	<script src="../../dtui/js/jqueryui/jquery-ui.js"></script>
	<script src="../../dtui/js/layout/jquery.layout-latest.js"></script>
	<script src="../../dtui/js/dtui.layout.js"></script>
	<link rel="stylesheet" href="../../htmldemo/demos.css" />

	<script type="text/javascript">
	var outerLayout, innerLayout;

	$(document).ready( function() {
		// create the OUTER LAYOUT
		$("body").dtlayout( layoutSettings_Outer );
		$("body").dtlayout('getWidget');

		// BIND events to hard-coded buttons in the NORTH toolbar
		/* outerLayout.addToggleBtn( "#tbarToggleNorth", "north" ); */
		$('body').dtlayout('addToggleBtn','#tbarToggleNorth','north');
		$('body').dtlayout('addOpenBtn','#tbarOpenSouth','south');
		$('body').dtlayout('addCloseBtn','#tbarCloseSouth','south');
		$('body').dtlayout('addPinBtn','#tbarPinWest','west');
		$('body').dtlayout('addPinBtn','#tbarPinEast','east');
		
		// save selector strings to vars so we don't have to repeat it
		// must prefix paneClass with "body > " to target ONLY the outerLayout panes
		var westSelector = "body > .ui-layout-west"; // outer-west pane
		var eastSelector = "body > .ui-layout-east"; // outer-east pane

		 // CREATE SPANs for pin-buttons - using a generic class as identifiers
		$("<span></span>").addClass("pin-button").prependTo( westSelector );
		$("<span></span>").addClass("pin-button").prependTo( eastSelector );
		// BIND events to pin-buttons to make them functional
		$('body').dtlayout('addPinBtn',westSelector +" .pin-button",'west');
		$('body').dtlayout('addPinBtn',eastSelector +" .pin-button",'east');
		
		 // CREATE SPANs for close-buttons - using unique IDs as identifiers
		$("<span></span>").attr("id", "west-closer" ).prependTo( westSelector );
		$("<span></span>").attr("id", "east-closer").prependTo( eastSelector );
		// BIND layout events to close-buttons to make them functional
		$('body').dtlayout('addCloseBtn','#west-closer','west');
		$('body').dtlayout('addCloseBtn','#east-closer','east');

		// DEMO HELPER: prevent hyperlinks from reloading page when a 'base.href' is set
		$("a").each(function () {
			var path = document.location.href;
			if (path.substr(path.length-1)=="#") path = path.substr(0,path.length-1);
			if (this.href.substr(this.href.length-1) == "#") this.href = path +"#";
		});

	});
	
	layoutSettings_Inner = {
		applyDefaultStyles:				true // basic styling for testing & demo purposes
	,	minSize:						20 // TESTING ONLY
	,	spacing_closed:					14
	,	north__spacing_closed:			8
	,	south__spacing_closed:			8
	,	north__togglerLength_closed:	-1 // = 100% - so cannot 'slide open'
	,	south__togglerLength_closed:	-1
	,	fxName:							"slide" // do not confuse with "slidable" option!
	,	fxSpeed_open:					1000
	,	fxSpeed_close:					2500
	,	fxSettings_open:				{ easing: "easeInQuint" }
	,	fxSettings_close:				{ easing: "easeOutQuint" }
	,	north__fxName:					"none"
	,	south__fxName:					"drop"
	,	south__fxSpeed_open:			500
	,	south__fxSpeed_close:			1000
	//,	initClosed:						true
	,	center__minWidth:				200
	,	center__minHeight:				200
	};

	var layoutSettings_Outer = {
		name: "outerLayout" // NO FUNCTIONAL USE, but could be used by custom code to 'identify' a layout
		// options.defaults apply to ALL PANES - but overridden by pane-specific settings
	,	defaults: {
			size:					"auto"
		,	minSize:				50
		,	paneClass:				"pane" 		// default = 'ui-layout-pane'
		,	resizerClass:			"resizer"	// default = 'ui-layout-resizer'
		,	togglerClass:			"toggler"	// default = 'ui-layout-toggler'
		,	buttonClass:			"button"	// default = 'ui-layout-button'
		,	contentSelector:		".content"	// inner div to auto-size so only it scrolls, not the entire pane!
		,	contentIgnoreSelector:	"span"		// 'paneSelector' for content to 'ignore' when measuring room for content
		,	togglerLength_open:		35			// WIDTH of toggler on north/south edges - HEIGHT on east/west edges
		,	togglerLength_closed:	35			// "100%" OR -1 = full height
		,	hideTogglerOnSlide:		true		// hide the toggler when pane is 'slid open'
		,	togglerTip_open:		"Close This Pane"
		,	togglerTip_closed:		"Open This Pane"
		,	resizerTip:				"Resize This Pane"
		//	effect defaults - overridden on some panes
		,	fxName:					"slide"		// none, slide, drop, scale
		,	fxSpeed_open:			750
		,	fxSpeed_close:			1500
		,	fxSettings_open:		{ easing: "easeInQuint" }
		,	fxSettings_close:		{ easing: "easeOutQuint" }
	}
	,	north: {
			spacing_open:			1			// cosmetic spacing
		,	togglerLength_open:		0			// HIDE the toggler button
		,	togglerLength_closed:	-1			// "100%" OR -1 = full width of pane
		,	resizable: 				false
		,	slidable:				false
		//	override default effect
		,	fxName:					"none"
		}
	,	south: {
			maxSize:				200
		,	spacing_closed:			0			// HIDE resizer & toggler when 'closed'
		,	slidable:				false		// REFERENCE - cannot slide if spacing_closed = 0
		,	initClosed:				true
		//	CALLBACK TESTING...
		,	onhide_start:			function () { return confirm("START South pane hide \n\n onhide_start callback \n\n Allow pane to hide?"); }
		,	onhide_end:				function () { alert("END South pane hide \n\n onhide_end callback"); }
		,	onshow_start:			function () { return confirm("START South pane show \n\n onshow_start callback \n\n Allow pane to show?"); }
		,	onshow_end:				function () { alert("END South pane show \n\n onshow_end callback"); }
		,	onopen_start:			function () { return confirm("START South pane open \n\n onopen_start callback \n\n Allow pane to open?"); }
		,	onopen_end:				function () { alert("END South pane open \n\n onopen_end callback"); }
		,	onclose_start:			function () { return confirm("START South pane close \n\n onclose_start callback \n\n Allow pane to close?"); }
		,	onclose_end:			function () { alert("END South pane close \n\n onclose_end callback"); }
		//,	onresize_start:			function () { return confirm("START South pane resize \n\n onresize_start callback \n\n Allow pane to be resized?)"); }
		,	onresize_end:			function () { alert("END South pane resize \n\n onresize_end callback \n\n NOTE: onresize_start event was skipped."); }
		}
	,	west: {
			size:					250
		,	spacing_closed:			21			// wider space when closed
		,	togglerLength_closed:	21			// make toggler 'square' - 21x21
		,	togglerAlign_closed:	"top"		// align to top of resizer
		,	togglerLength_open:		0			// NONE - using custom togglers INSIDE west-pane
		,	togglerTip_open:		"Close West Pane"
		,	togglerTip_closed:		"Open West Pane"
		,	resizerTip_open:		"Resize West Pane"
		,	slideTrigger_open:		"click" 	// default
		,	initClosed:				true
		//	add 'bounce' option to default 'slide' effect
		,	fxSettings_open:		{ easing: "easeOutBounce" }
		}
	,	east: {
			size:					250
		,	spacing_closed:			21			// wider space when closed
		,	togglerLength_closed:	21			// make toggler 'square' - 21x21
		,	togglerAlign_closed:	"top"		// align to top of resizer
		,	togglerLength_open:		0 			// NONE - using custom togglers INSIDE east-pane
		,	togglerTip_open:		"Close East Pane"
		,	togglerTip_closed:		"Open East Pane"
		,	resizerTip_open:		"Resize East Pane"
		,	slideTrigger_open:		"mouseover"
		,	initClosed:				true
		//	override default effect, speed, and settings
		,	fxName:					"drop"
		,	fxSpeed:				"normal"
		,	fxSettings:				{ easing: "" } // nullify default easing
		}
	,	center: {
			paneSelector:			"#mainContent" 			// sample: use an ID to select pane instead of a class
		,	minWidth:				200
		,	minHeight:				200
		}
	};
	
	
	
	function togglePane(location,pane){
		$(location).dtlayout('toggle',pane);
	};
	function hidePane(location,pane,noAnimation){
		$(location).dtlayout('hide',pane,noAnimation);
	};
	function showPane(location,pane,noAnimation){
		$(location).dtlayout('show',pane,noAnimation);
	};
	function openPane(location,pane,noAnimation){
		$(location).dtlayout('open',pane,noAnimation);
	};
	
	function sizePane(location,pane, size_in_pixels){
		$(location).dtlayout('sizePane',pane, size_in_pixels);
	};
	
	function setBackground(location,color){
		alert("color");
		$(location).dtlayout('option','panes').north.css(color);
	};
	
	function createInnerLayout () {
		// innerLayout is INSIDE the center-pane of the outerLayout
		//debugData( layoutSettings_Inner );
		innerLayout = $("#mainContent").dtlayout( layoutSettings_Inner );
		// hide 'Create Inner Layout' commands and show the list of testing commands
		$('#createInner').hide();
		$('#createInner2').hide();
		$('#innerCommands').show();
	};
</script>
</head>
<body>
<div class="ui-layout-west">
	<div class="header">Outer - West</div>

	<div class="content">
		<h3><b>Outer Layout</b></h3>
		<ul>
			<li><a href="#" onClick="togglePane('body','north')">Toggle North</a></li>
			<li><a href="#" onClick="togglePane('body','south')">Toggle South</a></li>
			<li><a href="#" onClick="togglePane('body','west')"> Toggle West</a></li>
			<li><a href="#" onClick="togglePane('body','east')"> Toggle East</a></li>
			<li><a href="#" onClick="hidePane('body','north')">Hide North</a></li>
			<li><a href="#" onClick="hidePane('body','south')">Hide South</a></li>
			<li><a href="#" onClick="hidePane('body','south', false)">Unhide South</a></li>
			<li><a href="#" onClick="hidePane('body','east')"> Hide East</a></li>
			<li><a href="#" onClick="showPane('body','east', false)">Unhide East</a></li>
			<li><a href="#" onClick="openPane('body','east')"> Open East</a></li>
			<li><a href="#" onClick="openPane('body','north'); sizePane('body','north', 'auto')">  Resize North="auto"</a></li>
			<li><a href="#" onClick="sizePane('body','north', 100); openPane('body','north')">  Resize North=100</a></li>
			<li><a href="#" onClick="sizePane('body','north', 300); openPane('body','north')">  Resize North=300</a></li>
			<li><a href="#" onClick="sizePane('body','north', 10000); openPane('body','north')">Resize North=10000</a></li>
			<li><a href="#" onClick="openPane('body','south'); sizePane('body','south', 'auto')">  Resize South="auto"</a></li>
			<li><a href="#" onClick="sizePane('body','south', 100); openPane('body','south')">  Resize South=100</a></li>
			<li><a href="#" onClick="sizePane('body','south', 300); openPane('body','south')">  Resize South=300</a></li>
			<li><a href="#" onClick="sizePane('body','south', 10000); openPane('body','south')">Resize South=10000</a></li>
			<li><a href="#" onClick="setBackground('#FCC')">North Color = Red</a></li>
			<li><a href="#" onClick="setBackground('#CFC')">North Color = Green</a></li>
			<li><a href="#" onClick="setBackground('')">    North Color = Default</a></li>
		</ul>
	</div>

	<div class="footer">Automatically positioned footer</div>

</div>

<div class="ui-layout-east">

	<div class="header">Outer - East</div>

	<div class="subhead">I'm a subheader</div>

	<div class="content">
		<h3><b>Inner Layout</b></h3>
		<ul id="createInner">
			<li><a href="#" onClick="createInnerLayout(); return false;">CREATE Inner Layout</a></li>
		</ul>
		<ul id="innerCommands" style="display: none;">
			<li><a href="#" onClick="togglePane('#mainContent','north')">Toggle North</a></li>
			<li><a href="#" onClick="togglePane('#mainContent','south')">Toggle South</a></li>
			<li><a href="#" onClick="togglePane('#mainContent','west')"> Toggle West</a></li>
			<li><a href="#" onClick="togglePane('#mainContent','east')"> Toggle East</a></li>
			<li><a href="#" onClick="hidePane('#mainContent','north')">Hide North</a></li>
			<li><a href="#" onClick="hidePane('#mainContent','south')">Hide South</a></li>
			<li><a href="#" onClick="hidePane('#mainContent','west')"> Hide West</a></li>
			<li><a href="#" onClick="hidePane('#mainContent','east')"> Hide East</a></li>
			<li><a href="#" onClick="showPane('#mainContent','east')"> Show East</a></li>
			<li><a href="#" onClick="sizePane('#mainContent','north',50);showPane('#mainContent','north')">   Resize North=50</a></li>
			<li><a href="#" onClick="sizePane('#mainContent','north',300);showPane('#mainContent','north')">  Resize North=300</a></li>
			<li><a href="#" onClick="sizePane('#mainContent','north',10000);showPane('#mainContent','north')">Resize North=10000</a></li>
			<li><a href="#" onClick="sizePane('#mainContent','south',50);showPane('#mainContent','south')">   Resize South=50</a></li>
			<li><a href="#" onClick="sizePane('#mainContent','south',300);showPane('#mainContent','south')">  Resize South=300</a></li>
			<li><a href="#" onClick="sizePane('#mainContent','south',10000);showPane('#mainContent','south')">Resize South=10000</a></li>
			<li><a href="#" onClick="$('#mainContent').dtlayout('option','panes').north.css('#FCC')">North Color = Red</a></li>
			<li><a href="#" onClick="$('#mainContent').dtlayout('option','panes').north.css('#CFC')">North Color = Green</a></li>
			<li><a href="#" onClick="$('#mainContent').dtlayout('option','panes').north.css('')">North Color = Default</a></li>
			
		</ul>
	</div>

	<div class="footer">I'm a footer</div>
	<div class="footer">I'm another footer</div>
	<div class="footer">Unlimited headers &amp; footers</div>

</div>


<div class="ui-layout-north">
	<div class="header">Outer - North</div>
	<div class="content">
		I only have toggler when 'closed' - I cannot be resized - and I do not 'slide open'
	</div>
	<ul class="toolbar">
		<li id="tbarToggleNorth" class="first"><span></span>Toggle NORTH</li>
		<li id="tbarOpenSouth"><span></span>Open SOUTH</li>
		<li id="tbarCloseSouth"><span></span>Close SOUTH</li>
		<li id="tbarPinWest"><span></span>Pin/Unpin WEST</li>
		<li id="tbarPinEast" class="last"><span></span>Pin/Unpin EAST</li>
	</ul>
</div>


<div class="ui-layout-south">
	<div class="header">Outer - South</div>
	<div class="content">
		<p>I only have a resizer/toggler when 'open'</p>
	</div>
</div>


<div id="mainContent">
	<!-- DIVs for the INNER LAYOUT -->

	<div class="ui-layout-center">
		<h3 class="header">Inner - Center</h3>
		<div class="ui-layout-content">
		
			<p id="createInner2" style="font-weight: bold;"><a href="#" onClick="createInnerLayout(); return false;"
				>Click here to CREATE the Inner Layout</a></p><!-- outerLayout.open('east');  -->

			<p>See the <a href="#" onclick="openPane('body','east'); return false;">Outer-East pane</a> for commands to manipulate the Inner Layout</p>

			<p><a href="../demos.html">Go to the Demos page</a></p>

			<p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p>
			<p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p>
			<p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p>
			<p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p>
		</div>
		<div class="footer">Center panes can have headers &amp; footers too</div>
	</div>

	<div class="ui-layout-north"> Inner - North</div>
	<div class="ui-layout-south"> Inner - South</div>
	<div class="ui-layout-west">  Inner - West</div>
	<div class="ui-layout-east">  Inner - East
		<p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p>
		<p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p>
		<p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p>
		<p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p><p>...</p>
	</div>

</div>
</body>
</html> 